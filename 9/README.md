# Домашнее задание к занятию «Архитектура и потоки данных в SwiftUI»

## Цель задания

В этом задании мы продолжаем разработку приложения SwiftUI: отработаем навыки и методы работы с потоками данных, обработки информации о событиях в приложении.
Выполнение задания займет не более 4-х часов

## Правила выполнения домашней работы

* Все задачи обязательны к выполнению для получения зачёта, кроме задач со звёздочкой.
* Изучите [инструкцию](https://github.com/netology-code/iosint-homeworks/blob/main/Pull%20request's%20guideline.md) по сдаче домашних заданий через pull request. В поле для сдачи работы прикрепите ссылку на ваш проект на GitHub.
* Любые вопросы по решению задач задавайте в чате учебной группы.

## Задача 1

1. В первой задаче потренируемся использовать в своем приложении переменные окружения iOS.
2. Для страницы **Settings**, созданной в предыдущей домашней работе сделайте текстовую надпись, отображающую текущее состояние цветовой схемы: включена светлая или темная тема.
3. Добавьте в `SettingsView` переменную окружения `@Environment(\.colorScheme) var colorScheme`
4. Проверьте, что в `SettingsView` добавлен органайзер `Form`. Если он отсутствует, то добавьте.
5. В первой `Section` добавьте текст, который в зависимости от текущей схемы будет показывать строку "Light Theme enabled" или "Dark Theme enabled"
6. Запустите симулятор и проверьте, что надпись корректно отражает состояние текущей цветовой схемы. Переключите цветовую схему и убедитесь, что надпись в настройках при этом автоматически изменяется.

## Задача 2

1. Во второй задаче научимся связывать переменные и передавать их между различными Views.
2. Для страницы **Settings** сделайте переключатель, который будет включать / выключать отображение заголовка списка для страницы `InfoView`.
3. Добавьте в структуру `ContentView` property wrapper `@State private var titleOn`
4. В структуре `SettingsView` для **второй секции** добавьте переключатель `Toggle`, который будет включать или выключать состояние, связанное с наличием или отсутствием заголовка.
5. Добавьте в структуру `SettingsView` связанную переменную `@Binding var titleOn: Bool` и свяжите ее с переключателем.
6. Ниже переключателя в той же секции сделайте вывод текста `Text("Navigation title enabled")` **если** переключатель **включен**.
7. В структуру `InfoView` добавьте свойство `var titleOn: Bool` и сделайте отображение или скрытие заголовка списка в зависимости от состояния этой переменной.
8. В `ContentView` обеспечьте передачу переменной `titleOn` в структуры `InfoView` и `SettingsView`.
9. Запустите симулятор и проверьте, что изменение состояния переключателя в `SettingsView` приводит к отображению или скрытию заголовка в `InfoView`.

## Задача 3

1. В этой задаче научимся сохранять состояния переменных в памяти устройства через property wrapper `@AppStorage`.
2. Сохраните состояние "Navigation title enabled" из задачи №2 в памяти устройства и используйте сохраненное значение при запуске приложения. 
3. Для сохранения используйте property wrapper `@AppStorage`. Подумайте как корректно связать изменение переменной `titleOn` c сохраненным состоянием в памяти, а также как использовать сохраненное значение для `ContentView`, `InfoView` и `SettingsView`.
4. Запустите приложение в симуляторе и проверьте, что актуальное состояние переключателя сохраняется в постоянной памяти и корректно **используется при старте** приложения для отображения списка строк в `InfoView`.

## Задача 4*

1. Добавьте в **Settings** возможность выбора высоты строки `InfoRow` в `InfoView`. Для выбора величины высоты используйте компонент SwiftUI `Slider`. Диапазон изменения высоты от min до max должен быть приемлемым для визуального восприятия.
2. Добавьте поясняющий текст, чтобы пользователю было понятно, **что** и в каком **размере** величины здесь меняется.
3. Для визуального контроля сделайте отображение строки `InfoRow` в актуальном размере и с актуальным размером шрифта прямо на экране **Settings**, чтобы видеть как изменение высоты сказывается на внешнем виде строки. При *завершении* изменения отображение `InfoRow` должно исчезать, для этого можно отслеживать *текущее* состояние `Slider` через переменную вида `isChanging`.
4. Передайте выбранную высоту строки в `InfoView` и `InfoRow` для коррекции отображения на экране.
5. Сделайте сохранение текущей величины в постоянной памяти устройства и её чтение при запуске приложения.
6. Запустите приложение в симуляторе и проверьте, что размер строки для `InfoView` меняется и корректно используется сохраненное значение при новом запуске приложения.



## Критерии проверки

Зачет - выполнены все задания, в выполненных заданиях нет противоречий и нарушения логики.

На доработку - задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия.
